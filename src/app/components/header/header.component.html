<!-- Top Bar -->
<div class="top-bar bg-primary text-white py-2">
  <div class="container-fluid">
    <div class="row align-items-center">
      <div class="col-md-8">
        <small>
          <i class="fas fa-truck me-2"></i>
          Livraison gratuite Ã  partir de 99 TND / Livraison 4,500 TND sur toute la Tunisie
        </small>
      </div>
      <div class="col-md-4 text-end">
        <small>
          <i class="fas fa-phone me-2"></i>
          SERVICE CLIENT: 28 37 28 27
        </small>
      </div>
    </div>
  </div>
</div>

<!-- Main Header -->
<header class="main-header bg-white shadow-sm">
  <div class="container-fluid">
    <div class="row align-items-center py-3">
      <!-- Logo -->
      <div class="col-lg-2 col-md-3 col-6">
        <div class="logo d-flex align-items-center">
          <img src="/logo.png" alt="AloePara" class="img-fluid me-2" style="max-height: 50px;">
          <span class="logo-text">AloePara</span>
        </div>
      </div>

      <!-- Search Bar -->
      <div class="col-lg-6 col-md-5 d-none d-md-block">
        <div class="search-bar">
          <div class="input-group">
            <input 
              type="text" 
              class="form-control search-input" 
              placeholder="Rechercher des produits..."
              [(ngModel)]="searchQuery"
              (keyup.enter)="onSearch()">
            <button class="btn btn-primary search-btn" type="button" (click)="onSearch()">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- User Actions -->
      <div class="col-lg-4 col-md-4 col-6">
        <div class="user-actions d-flex align-items-center justify-content-end">
          <!-- Account -->
          <div class="action-item me-3 d-none d-lg-block">
            <a href="#" class="text-decoration-none text-dark">
              <i class="fas fa-user me-1"></i>
              <span>Mon Compte</span>
            </a>
          </div>

          <!-- Wishlist -->
          <div class="action-item me-3 d-none d-lg-block">
            <a href="#" class="text-decoration-none text-dark position-relative">
              <i class="fas fa-heart me-1"></i>
              <span>Favoris</span>
              <span class="badge bg-accent position-absolute top-0 start-100 translate-middle">0</span>
            </a>
          </div>

          <!-- Cart -->
          <div class="action-item me-3">
            <a href="#" class="text-decoration-none text-dark position-relative">
              <i class="fas fa-shopping-cart me-1"></i>
              <span class="d-none d-lg-inline">Panier</span>
              <span class="badge bg-accent position-absolute top-0 start-100 translate-middle">0</span>
            </a>
          </div>

          <!-- Mobile Menu Toggle -->
          <div class="mobile-menu-toggle d-md-none">
            <button class="btn btn-outline-primary" (click)="toggleMobileMenu()">
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Search Bar -->
    <div class="row d-md-none mb-3">
      <div class="col-12">
        <div class="search-bar">
          <div class="input-group">
            <input 
              type="text" 
              class="form-control search-input" 
              placeholder="Rechercher des produits..."
              [(ngModel)]="searchQuery"
              (keyup.enter)="onSearch()">
            <button class="btn btn-primary search-btn" type="button" (click)="onSearch()">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Navigation Menu -->
<nav class="main-navigation bg-light-custom">
  <div class="container-fluid">
    <!-- Desktop Navigation -->
    <div class="d-none d-md-block">
      <ul class="nav nav-pills justify-content-center py-2">
        <li class="nav-item" *ngFor="let category of categories">
          <a 
            class="nav-link text-dark fw-medium px-3 py-2" 
            href="#"
            (click)="onCategoryClick(category)">
            {{ category.name }}
            <i class="fas fa-chevron-down ms-1" *ngIf="category.hasSubmenu"></i>
          </a>
        </li>
      </ul>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-navigation d-md-none" [class.show]="isMobileMenuOpen()">
      <div class="mobile-menu" *ngIf="isMobileMenuOpen()">
        <div class="mobile-menu-header d-flex justify-content-between align-items-center p-3 bg-primary text-white">
          <h5 class="mb-0">Menu</h5>
          <button class="btn btn-link text-white p-0" (click)="toggleMobileMenu()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="mobile-menu-body">
          <ul class="list-unstyled mb-0">
            <li *ngFor="let category of categories">
              <a 
                class="d-block p-3 text-decoration-none text-dark border-bottom"
                href="#"
                (click)="onCategoryClick(category)">
                {{ category.name }}
                <i class="fas fa-chevron-right float-end" *ngIf="category.hasSubmenu"></i>
              </a>
            </li>
          </ul>
          
          <!-- Mobile User Actions -->
          <div class="mobile-user-actions p-3 bg-light">
            <a href="#" class="d-block p-2 text-decoration-none text-dark">
              <i class="fas fa-user me-2"></i>Mon Compte
            </a>
            <a href="#" class="d-block p-2 text-decoration-none text-dark">
              <i class="fas fa-heart me-2"></i>Mes Favoris
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
